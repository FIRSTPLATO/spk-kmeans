<head>
<title>Clustering dengan KMeans</title>
</head>
<center>
<?php
 $data1=array(3,12,4,2,8,5,9,1,4,10,6,3);$data2=array(4,10,7,6,11,3,13,7,10,12,8,11);$l=12;$c=2;echo "<a href='chart.php' target='_blank'>Liat chartnya</a><br><br>";echo "<table border=1>";echo "<tr><td>Data</td><td>X</td><td>Y</td></tr>";for($i=0;$i<$l;$i++){echo "<tr><td>".($i+1)."</td><td>".$data1[$i]."</td><td>".$data2[$i]."</td></tr>";}echo "</table><br><br>";$min=min($data1);$max=max($data1);$key1=array_search($min,$data1);$key2=array_search($max,$data1);$centro=array(array($data1[$key1],$data2[$key1]),array($data1[$key2],$data2[$key2]));do{echo "<table border=1>";echo "<tr><td>Centroid</td><td>X</td><td>Y</td></tr>";for($i=0;$i<$c;$i++){echo "<tr><td>Centroid-".($i+1)."</td><td>".$centro[$i][0]."</td><td>".$centro[$i][1]."</td></tr>";}echo "</table><br><br>";for($i=0;$i<$l;$i++){$jarak1[$i]=sqrt(pow(($data1[$i]-$centro[0][0]),2)+pow(($data2[$i]-$centro[0][1]),2));}for($i=0;$i<$l;$i++){$jarak2[$i]=sqrt(pow(($data1[$i]-$centro[1][0]),2)+pow(($data2[$i]-$centro[1][1]),2));}echo "<table border=1>";echo "<tr><td>Data</td><td>X</td><td>Y</td><td>Jarak dgn Centroid-1</td><td>Jarak dgn Centroid-2</td></tr>";for($i=0;$i<$l;$i++){echo "<tr><td>".($i+1)."</td><td>".$data1[$i]."</td><td>".$data2[$i]."</td><td>".$jarak1[$i]."</td><td>".$jarak2[$i]."</td></tr>";}echo "</table><br><br>";for($i=0;$i<$l;$i++){if($jarak1[$i]<$jarak2[$i])$cluster[$i]=1;else $cluster[$i]=2;}echo "<table border=1>";echo "<tr><td>Data</td><td>X</td><td>Y</td><td>Cluster</td></tr>";for($i=0;$i<$l;$i++){echo "<tr><td>".($i+1)."</td><td>".$data1[$i]."</td><td>".$data2[$i]."</td><td>".$cluster[$i]."</td></tr>";}echo "</table><br><br>";$centrobr=array(array(0,0),array(0,0));$jcentro1=0;$jcentro2=0;for($i=0;$i<$l;$i++){if($cluster[$i]==1){$centrobr[0][0]=$centrobr[0][0]+$data1[$i];$centrobr[0][1]=$centrobr[0][1]+$data2[$i];$jcentro1++;}else{$centrobr[1][0]=$centrobr[1][0]+$data1[$i];$centrobr[1][1]=$centrobr[1][1]+$data2[$i];$jcentro2++;}}$centrobr[0][0]=$centrobr[0][0]/$jcentro1;$centrobr[0][1]=$centrobr[0][1]/$jcentro1;$centrobr[1][0]=$centrobr[1][0]/$jcentro2;$centrobr[1][1]=$centrobr[1][1]/$jcentro2;if($centro[0][0]==$centrobr[0][0]&&$centro[0][1]==$centrobr[0][1]&&$centro[1][0]==$centrobr[1][0]&&$centro[1][1]==$centrobr[1][1]){$status=1;echo "Centroid baru sama dengan centroid sebelumnya. Hasil ditemukan dan proses telah selesai.<br><br><br>";}else{$status=0;$centro[0][0]=$centrobr[0][0];$centro[0][1]=$centrobr[0][1];$centro[1][0]=$centrobr[1][0];$centro[1][1]=$centrobr[1][1];}}while($status!=1);echo "<table border=1>";echo "<tr><td>Data</td><td>X</td><td>Y</td><td>Cluster 1</td></tr>";for($i=0;$i<$l;$i++){if($cluster[$i]==1)echo "<tr><td>".($i+1)."</td><td>".$data1[$i]."</td><td>".$data2[$i]."</td><td>".$cluster[$i]."</td></tr>";}echo "</table><br><br>";echo "<table border=1>";echo "<tr><td>Data</td><td>X</td><td>Y</td><td>Cluster 2</td></tr>";for($i=0;$i<$l;$i++){if($cluster[$i]==2)echo "<tr><td>".($i+1)."</td><td>".$data1[$i]."</td><td>".$data2[$i]."</td><td>".$cluster[$i]."</td></tr>";}echo "</table><br><br>";echo "<a href='chart.php' target='_blank'>Liat chartnya</a>";function cetak($input){echo "<br><pre>";print_r($input);echo "</pre>";}?>